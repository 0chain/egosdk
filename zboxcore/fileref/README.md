<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# fileref

```go
import "github.com/0chain/gosdk/zboxcore/fileref"
```

## Index

- [Constants](<#constants>)
- [func GetReferenceLookup\(allocationID string, path string\) string](<#GetReferenceLookup>)
- [type Collaborator](<#Collaborator>)
- [type FileRef](<#FileRef>)
  - [func \(fr \*FileRef\) CalculateHash\(\) string](<#FileRef.CalculateHash>)
  - [func \(fr \*FileRef\) GetCreatedAt\(\) common.Timestamp](<#FileRef.GetCreatedAt>)
  - [func \(fr \*FileRef\) GetFileID\(\) string](<#FileRef.GetFileID>)
  - [func \(fr \*FileRef\) GetFileMetaHash\(\) string](<#FileRef.GetFileMetaHash>)
  - [func \(fr \*FileRef\) GetFileMetaHashData\(\) string](<#FileRef.GetFileMetaHashData>)
  - [func \(fr \*FileRef\) GetHash\(\) string](<#FileRef.GetHash>)
  - [func \(fr \*FileRef\) GetHashData\(\) string](<#FileRef.GetHashData>)
  - [func \(fr \*FileRef\) GetLookupHash\(\) string](<#FileRef.GetLookupHash>)
  - [func \(fr \*FileRef\) GetName\(\) string](<#FileRef.GetName>)
  - [func \(fr \*FileRef\) GetNumBlocks\(\) int64](<#FileRef.GetNumBlocks>)
  - [func \(fr \*FileRef\) GetPath\(\) string](<#FileRef.GetPath>)
  - [func \(fr \*FileRef\) GetPathHash\(\) string](<#FileRef.GetPathHash>)
  - [func \(fr \*FileRef\) GetSize\(\) int64](<#FileRef.GetSize>)
  - [func \(fr \*FileRef\) GetType\(\) string](<#FileRef.GetType>)
  - [func \(fr \*FileRef\) GetUpdatedAt\(\) common.Timestamp](<#FileRef.GetUpdatedAt>)
  - [func \(fRef \*FileRef\) MetaID\(\) string](<#FileRef.MetaID>)
- [type Hashnode](<#Hashnode>)
  - [func \(n \*Hashnode\) AddChild\(c \*Hashnode\)](<#Hashnode.AddChild>)
  - [func \(n \*Hashnode\) GetHashCode\(\) string](<#Hashnode.GetHashCode>)
  - [func \(n \*Hashnode\) GetLookupHash\(\) string](<#Hashnode.GetLookupHash>)
- [type ListResult](<#ListResult>)
  - [func \(lr \*ListResult\) GetDirTree\(allocationID string\) \(\*Ref, error\)](<#ListResult.GetDirTree>)
- [type Ref](<#Ref>)
  - [func \(r \*Ref\) AddChild\(child RefEntity\)](<#Ref.AddChild>)
  - [func \(r \*Ref\) CalculateHash\(\) string](<#Ref.CalculateHash>)
  - [func \(r \*Ref\) GetCreatedAt\(\) common.Timestamp](<#Ref.GetCreatedAt>)
  - [func \(r \*Ref\) GetFileID\(\) string](<#Ref.GetFileID>)
  - [func \(r \*Ref\) GetFileMetaHash\(\) string](<#Ref.GetFileMetaHash>)
  - [func \(r \*Ref\) GetHash\(\) string](<#Ref.GetHash>)
  - [func \(r \*Ref\) GetHashData\(\) string](<#Ref.GetHashData>)
  - [func \(r \*Ref\) GetLookupHash\(\) string](<#Ref.GetLookupHash>)
  - [func \(r \*Ref\) GetName\(\) string](<#Ref.GetName>)
  - [func \(r \*Ref\) GetNumBlocks\(\) int64](<#Ref.GetNumBlocks>)
  - [func \(r \*Ref\) GetPath\(\) string](<#Ref.GetPath>)
  - [func \(r \*Ref\) GetPathHash\(\) string](<#Ref.GetPathHash>)
  - [func \(r \*Ref\) GetSize\(\) int64](<#Ref.GetSize>)
  - [func \(r \*Ref\) GetType\(\) string](<#Ref.GetType>)
  - [func \(r \*Ref\) GetUpdatedAt\(\) common.Timestamp](<#Ref.GetUpdatedAt>)
  - [func \(r \*Ref\) RemoveChild\(idx int\)](<#Ref.RemoveChild>)
- [type RefEntity](<#RefEntity>)
- [type ReferencePath](<#ReferencePath>)
  - [func \(rp \*ReferencePath\) GetDirTree\(allocationID string\) \(\*Ref, error\)](<#ReferencePath.GetDirTree>)
  - [func \(rp \*ReferencePath\) GetRefFromObjectTree\(allocationID string\) \(RefEntity, error\)](<#ReferencePath.GetRefFromObjectTree>)


## Constants

<a name="FILE"></a>

```go
const (
    FILE      = "f"
    DIRECTORY = "d"
)
```

<a name="CHUNK_SIZE"></a>

```go
const CHUNK_SIZE = 64 * 1024
```

<a name="GetReferenceLookup"></a>
## func [GetReferenceLookup](<https://github.com/0chain/gosdk/blob/staging/zboxcore/fileref/fileref.go#L97>)

```go
func GetReferenceLookup(allocationID string, path string) string
```



<a name="Collaborator"></a>
## type [Collaborator](<https://github.com/0chain/gosdk/blob/staging/zboxcore/fileref/fileref.go#L21-L25>)



```go
type Collaborator struct {
    RefID     int64  `json:"ref_id"`
    ClientID  string `json:"client_id"`
    CreatedAt string `json:"created_at"`
}
```

<a name="FileRef"></a>
## type [FileRef](<https://github.com/0chain/gosdk/blob/staging/zboxcore/fileref/fileref.go#L27-L46>)



```go
type FileRef struct {
    Ref            `mapstructure:",squash"`
    CustomMeta     string `json:"custom_meta" mapstructure:"custom_meta"`
    ValidationRoot string `json:"validation_root" mapstructure:"validation_root"`
    // ValidationRootSignature is signature signed by client for hash_of(ActualFileHashSignature + ValidationRoot)
    ValidationRootSignature string `json:"validation_root_signature" mapstructure:"validation_root_signature"`
    FixedMerkleRoot         string `json:"fixed_merkle_root" mapstructure:"fixed_merkle_root"`
    ThumbnailSize           int64  `json:"thumbnail_size" mapstructure:"thumbnail_size"`
    ThumbnailHash           string `json:"thumbnail_hash" mapstructure:"thumbnail_hash"`
    ActualFileSize          int64  `json:"actual_file_size" mapstructure:"actual_file_size"`
    ActualFileHash          string `json:"actual_file_hash" mapstructure:"actual_file_hash"`
    // ActualFileHashSignature is signature signed by client for ActualFileHash
    ActualFileHashSignature string         `json:"actual_file_hash_signature" mapstructure:"actual_file_hash_signature"`
    ActualThumbnailSize     int64          `json:"actual_thumbnail_size" mapstructure:"actual_thumbnail_size"`
    ActualThumbnailHash     string         `json:"actual_thumbnail_hash" mapstructure:"actual_thumbnail_hash"`
    MimeType                string         `json:"mimetype" mapstructure:"mimetype"`
    EncryptedKey            string         `json:"encrypted_key" mapstructure:"encrypted_key"`
    EncryptedKeyPoint       string         `json:"encrypted_key_point" mapstructure:"encrypted_key_point"`
    Collaborators           []Collaborator `json:"collaborators" mapstructure:"collaborators"`
}
```

<a name="FileRef.CalculateHash"></a>
### func \(\*FileRef\) [CalculateHash](<https://github.com/0chain/gosdk/blob/staging/zboxcore/fileref/fileref.go#L244>)

```go
func (fr *FileRef) CalculateHash() string
```



<a name="FileRef.GetCreatedAt"></a>
### func \(\*FileRef\) [GetCreatedAt](<https://github.com/0chain/gosdk/blob/staging/zboxcore/fileref/fileref.go#L283>)

```go
func (fr *FileRef) GetCreatedAt() common.Timestamp
```



<a name="FileRef.GetFileID"></a>
### func \(\*FileRef\) [GetFileID](<https://github.com/0chain/gosdk/blob/staging/zboxcore/fileref/fileref.go#L279>)

```go
func (fr *FileRef) GetFileID() string
```



<a name="FileRef.GetFileMetaHash"></a>
### func \(\*FileRef\) [GetFileMetaHash](<https://github.com/0chain/gosdk/blob/staging/zboxcore/fileref/fileref.go#L213>)

```go
func (fr *FileRef) GetFileMetaHash() string
```



<a name="FileRef.GetFileMetaHashData"></a>
### func \(\*FileRef\) [GetFileMetaHashData](<https://github.com/0chain/gosdk/blob/staging/zboxcore/fileref/fileref.go#L216>)

```go
func (fr *FileRef) GetFileMetaHashData() string
```



<a name="FileRef.GetHash"></a>
### func \(\*FileRef\) [GetHash](<https://github.com/0chain/gosdk/blob/staging/zboxcore/fileref/fileref.go#L240>)

```go
func (fr *FileRef) GetHash() string
```



<a name="FileRef.GetHashData"></a>
### func \(\*FileRef\) [GetHashData](<https://github.com/0chain/gosdk/blob/staging/zboxcore/fileref/fileref.go#L223>)

```go
func (fr *FileRef) GetHashData() string
```



<a name="FileRef.GetLookupHash"></a>
### func \(\*FileRef\) [GetLookupHash](<https://github.com/0chain/gosdk/blob/staging/zboxcore/fileref/fileref.go#L267>)

```go
func (fr *FileRef) GetLookupHash() string
```



<a name="FileRef.GetName"></a>
### func \(\*FileRef\) [GetName](<https://github.com/0chain/gosdk/blob/staging/zboxcore/fileref/fileref.go#L275>)

```go
func (fr *FileRef) GetName() string
```



<a name="FileRef.GetNumBlocks"></a>
### func \(\*FileRef\) [GetNumBlocks](<https://github.com/0chain/gosdk/blob/staging/zboxcore/fileref/fileref.go#L255>)

```go
func (fr *FileRef) GetNumBlocks() int64
```



<a name="FileRef.GetPath"></a>
### func \(\*FileRef\) [GetPath](<https://github.com/0chain/gosdk/blob/staging/zboxcore/fileref/fileref.go#L271>)

```go
func (fr *FileRef) GetPath() string
```



<a name="FileRef.GetPathHash"></a>
### func \(\*FileRef\) [GetPathHash](<https://github.com/0chain/gosdk/blob/staging/zboxcore/fileref/fileref.go#L263>)

```go
func (fr *FileRef) GetPathHash() string
```



<a name="FileRef.GetSize"></a>
### func \(\*FileRef\) [GetSize](<https://github.com/0chain/gosdk/blob/staging/zboxcore/fileref/fileref.go#L259>)

```go
func (fr *FileRef) GetSize() int64
```



<a name="FileRef.GetType"></a>
### func \(\*FileRef\) [GetType](<https://github.com/0chain/gosdk/blob/staging/zboxcore/fileref/fileref.go#L251>)

```go
func (fr *FileRef) GetType() string
```



<a name="FileRef.GetUpdatedAt"></a>
### func \(\*FileRef\) [GetUpdatedAt](<https://github.com/0chain/gosdk/blob/staging/zboxcore/fileref/fileref.go#L287>)

```go
func (fr *FileRef) GetUpdatedAt() common.Timestamp
```



<a name="FileRef.MetaID"></a>
### func \(\*FileRef\) [MetaID](<https://github.com/0chain/gosdk/blob/staging/zboxcore/fileref/fileref.go#L48>)

```go
func (fRef *FileRef) MetaID() string
```



<a name="Hashnode"></a>
## type [Hashnode](<https://github.com/0chain/gosdk/blob/staging/zboxcore/fileref/hashnode.go#L11-L26>)

Hashnode ref node in hash tree

```go
type Hashnode struct {
    // hash data
    AllocationID    string `json:"allocation_id,omitempty"`
    Type            string `json:"type,omitempty"`
    Name            string `json:"name,omitempty"`
    Path            string `json:"path,omitempty"`
    ValidationRoot  string `json:"validation_root,omitempty"`
    FixedMerkleRoot string `json:"fixed_merkle_root,omitempty"`
    ActualFileHash  string `json:"actual_file_hash,omitempty"`
    ChunkSize       int64  `json:"chunk_size,omitempty"`
    Size            int64  `json:"size,omitempty"`
    ActualFileSize  int64  `json:"actual_file_size,omitempty"`

    Children []*Hashnode `json:"children,omitempty"`
    // contains filtered or unexported fields
}
```

<a name="Hashnode.AddChild"></a>
### func \(\*Hashnode\) [AddChild](<https://github.com/0chain/gosdk/blob/staging/zboxcore/fileref/hashnode.go#L28>)

```go
func (n *Hashnode) AddChild(c *Hashnode)
```



<a name="Hashnode.GetHashCode"></a>
### func \(\*Hashnode\) [GetHashCode](<https://github.com/0chain/gosdk/blob/staging/zboxcore/fileref/hashnode.go#L45>)

```go
func (n *Hashnode) GetHashCode() string
```

GetHashCode get hash code

<a name="Hashnode.GetLookupHash"></a>
### func \(\*Hashnode\) [GetLookupHash](<https://github.com/0chain/gosdk/blob/staging/zboxcore/fileref/hashnode.go#L37>)

```go
func (n *Hashnode) GetLookupHash() string
```

GetLookupHash get lookuphash

<a name="ListResult"></a>
## type [ListResult](<https://github.com/0chain/gosdk/blob/staging/zboxcore/fileref/list.go#L8-L12>)



```go
type ListResult struct {
    AllocationRoot string                   `json:"allocation_root"`
    Meta           map[string]interface{}   `json:"meta_data"`
    Entities       []map[string]interface{} `json:"list"`
}
```

<a name="ListResult.GetDirTree"></a>
### func \(\*ListResult\) [GetDirTree](<https://github.com/0chain/gosdk/blob/staging/zboxcore/fileref/list.go#L14>)

```go
func (lr *ListResult) GetDirTree(allocationID string) (*Ref, error)
```



<a name="Ref"></a>
## type [Ref](<https://github.com/0chain/gosdk/blob/staging/zboxcore/fileref/fileref.go#L72-L95>)



```go
type Ref struct {
    Type                string `json:"type" mapstructure:"type"`
    AllocationID        string `json:"allocation_id" mapstructure:"allocation_id"`
    Name                string `json:"name" mapstructure:"name"`
    Path                string `json:"path" mapstructure:"path"`
    Size                int64  `json:"size" mapstructure:"size"`
    ActualSize          int64  `json:"actual_file_size" mapstructure:"actual_file_size"`
    Hash                string `json:"hash" mapstructure:"hash"`
    ChunkSize           int64  `json:"chunk_size" mapstructure:"chunk_size"`
    NumBlocks           int64  `json:"num_of_blocks" mapstructure:"num_of_blocks"`
    PathHash            string `json:"path_hash" mapstructure:"path_hash"`
    LookupHash          string `json:"lookup_hash" mapstructure:"lookup_hash"`
    FileID              string `json:"file_id" mapstructure:"file_id"`
    FileMetaHash        string `json:"file_meta_hash" mapstructure:"file_meta_hash"`
    ThumbnailHash       string `json:"thumbnail_hash" mapstructure:"thumbnail_hash"`
    ThumbnailSize       int64  `json:"thumbnail_size" mapstructure:"thumbnail_size"`
    ActualThumbnailHash string `json:"actual_thumbnail_hash" mapstructure:"actual_thumbnail_hash"`
    ActualThumbnailSize int64  `json:"actual_thumbnail_size" mapstructure:"actual_thumbnail_size"`
    HashToBeComputed    bool
    ChildrenLoaded      bool
    Children            []RefEntity      `json:"-" mapstructure:"-"`
    CreatedAt           common.Timestamp `json:"created_at" mapstructure:"created_at"`
    UpdatedAt           common.Timestamp `json:"updated_at" mapstructure:"updated_at"`
}
```

<a name="Ref.AddChild"></a>
### func \(\*Ref\) [AddChild](<https://github.com/0chain/gosdk/blob/staging/zboxcore/fileref/fileref.go#L183>)

```go
func (r *Ref) AddChild(child RefEntity)
```



<a name="Ref.CalculateHash"></a>
### func \(\*Ref\) [CalculateHash](<https://github.com/0chain/gosdk/blob/staging/zboxcore/fileref/fileref.go#L101>)

```go
func (r *Ref) CalculateHash() string
```



<a name="Ref.GetCreatedAt"></a>
### func \(\*Ref\) [GetCreatedAt](<https://github.com/0chain/gosdk/blob/staging/zboxcore/fileref/fileref.go#L175>)

```go
func (r *Ref) GetCreatedAt() common.Timestamp
```



<a name="Ref.GetFileID"></a>
### func \(\*Ref\) [GetFileID](<https://github.com/0chain/gosdk/blob/staging/zboxcore/fileref/fileref.go#L171>)

```go
func (r *Ref) GetFileID() string
```



<a name="Ref.GetFileMetaHash"></a>
### func \(\*Ref\) [GetFileMetaHash](<https://github.com/0chain/gosdk/blob/staging/zboxcore/fileref/fileref.go#L131>)

```go
func (r *Ref) GetFileMetaHash() string
```



<a name="Ref.GetHash"></a>
### func \(\*Ref\) [GetHash](<https://github.com/0chain/gosdk/blob/staging/zboxcore/fileref/fileref.go#L135>)

```go
func (r *Ref) GetHash() string
```



<a name="Ref.GetHashData"></a>
### func \(\*Ref\) [GetHashData](<https://github.com/0chain/gosdk/blob/staging/zboxcore/fileref/fileref.go#L139>)

```go
func (r *Ref) GetHashData() string
```



<a name="Ref.GetLookupHash"></a>
### func \(\*Ref\) [GetLookupHash](<https://github.com/0chain/gosdk/blob/staging/zboxcore/fileref/fileref.go#L159>)

```go
func (r *Ref) GetLookupHash() string
```



<a name="Ref.GetName"></a>
### func \(\*Ref\) [GetName](<https://github.com/0chain/gosdk/blob/staging/zboxcore/fileref/fileref.go#L167>)

```go
func (r *Ref) GetName() string
```



<a name="Ref.GetNumBlocks"></a>
### func \(\*Ref\) [GetNumBlocks](<https://github.com/0chain/gosdk/blob/staging/zboxcore/fileref/fileref.go#L147>)

```go
func (r *Ref) GetNumBlocks() int64
```



<a name="Ref.GetPath"></a>
### func \(\*Ref\) [GetPath](<https://github.com/0chain/gosdk/blob/staging/zboxcore/fileref/fileref.go#L163>)

```go
func (r *Ref) GetPath() string
```



<a name="Ref.GetPathHash"></a>
### func \(\*Ref\) [GetPathHash](<https://github.com/0chain/gosdk/blob/staging/zboxcore/fileref/fileref.go#L155>)

```go
func (r *Ref) GetPathHash() string
```



<a name="Ref.GetSize"></a>
### func \(\*Ref\) [GetSize](<https://github.com/0chain/gosdk/blob/staging/zboxcore/fileref/fileref.go#L151>)

```go
func (r *Ref) GetSize() int64
```



<a name="Ref.GetType"></a>
### func \(\*Ref\) [GetType](<https://github.com/0chain/gosdk/blob/staging/zboxcore/fileref/fileref.go#L143>)

```go
func (r *Ref) GetType() string
```



<a name="Ref.GetUpdatedAt"></a>
### func \(\*Ref\) [GetUpdatedAt](<https://github.com/0chain/gosdk/blob/staging/zboxcore/fileref/fileref.go#L179>)

```go
func (r *Ref) GetUpdatedAt() common.Timestamp
```



<a name="Ref.RemoveChild"></a>
### func \(\*Ref\) [RemoveChild](<https://github.com/0chain/gosdk/blob/staging/zboxcore/fileref/fileref.go#L206>)

```go
func (r *Ref) RemoveChild(idx int)
```



<a name="RefEntity"></a>
## type [RefEntity](<https://github.com/0chain/gosdk/blob/staging/zboxcore/fileref/fileref.go#L56-L70>)



```go
type RefEntity interface {
    GetNumBlocks() int64
    GetSize() int64
    GetFileMetaHash() string
    GetHash() string
    CalculateHash() string
    GetType() string
    GetPathHash() string
    GetLookupHash() string
    GetPath() string
    GetName() string
    GetFileID() string
    GetCreatedAt() common.Timestamp
    GetUpdatedAt() common.Timestamp
}
```

<a name="ReferencePath"></a>
## type [ReferencePath](<https://github.com/0chain/gosdk/blob/staging/zboxcore/fileref/refpath.go#L8-L11>)



```go
type ReferencePath struct {
    Meta map[string]interface{} `json:"meta_data"`
    List []*ReferencePath       `json:"list,omitempty"`
}
```

<a name="ReferencePath.GetDirTree"></a>
### func \(\*ReferencePath\) [GetDirTree](<https://github.com/0chain/gosdk/blob/staging/zboxcore/fileref/refpath.go#L39>)

```go
func (rp *ReferencePath) GetDirTree(allocationID string) (*Ref, error)
```

GetDirTree covert and build root Ref with children

<a name="ReferencePath.GetRefFromObjectTree"></a>
### func \(\*ReferencePath\) [GetRefFromObjectTree](<https://github.com/0chain/gosdk/blob/staging/zboxcore/fileref/refpath.go#L13>)

```go
func (rp *ReferencePath) GetRefFromObjectTree(allocationID string) (RefEntity, error)
```



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
