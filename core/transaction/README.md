<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# transaction

```go
import "github.com/0chain/gosdk/core/transaction"
```

## Index

- [Constants](<#constants>)
- [Variables](<#variables>)
- [func EstimateFee\(txn \*Transaction, miners \[\]string, reqPercent ...float32\) \(uint64, error\)](<#EstimateFee>)
- [func GetFeesTable\(miners \[\]string, reqPercent ...float32\) \(map\[string\]map\[string\]int64, error\)](<#GetFeesTable>)
- [func SendTransactionSync\(txn \*Transaction, miners \[\]string\) error](<#SendTransactionSync>)
- [type Block](<#Block>)
- [type OptimisticVerifier](<#OptimisticVerifier>)
  - [func NewOptimisticVerifier\(sharders \[\]string\) \*OptimisticVerifier](<#NewOptimisticVerifier>)
  - [func \(v \*OptimisticVerifier\) VerifyTransactionOptimistic\(txnHash string\) \(\*Transaction, error\)](<#OptimisticVerifier.VerifyTransactionOptimistic>)
- [type Ratio](<#Ratio>)
- [type RoundBlockHeader](<#RoundBlockHeader>)
- [type SignFunc](<#SignFunc>)
- [type SignWithWallet](<#SignWithWallet>)
- [type SmartContractTxnData](<#SmartContractTxnData>)
- [type StorageAllocation](<#StorageAllocation>)
- [type Transaction](<#Transaction>)
  - [func NewTransactionEntity\(clientID string, chainID string, publicKey string, nonce int64\) \*Transaction](<#NewTransactionEntity>)
  - [func VerifyTransaction\(txnHash string, sharders \[\]string\) \(\*Transaction, error\)](<#VerifyTransaction>)
  - [func VerifyTransactionTrusted\(txnHash string, sharders \[\]string\) \(\*Transaction, error\)](<#VerifyTransactionTrusted>)
  - [func \(t \*Transaction\) ComputeHashAndSign\(signHandler SignFunc\) error](<#Transaction.ComputeHashAndSign>)
  - [func \(t \*Transaction\) ComputeHashAndSignWithWallet\(signHandler SignWithWallet, signingWallet interface\{\}\) error](<#Transaction.ComputeHashAndSignWithWallet>)
  - [func \(t \*Transaction\) ComputeHashData\(\)](<#Transaction.ComputeHashData>)
  - [func \(t \*Transaction\) DebugJSON\(\) \[\]byte](<#Transaction.DebugJSON>)
  - [func \(t \*Transaction\) VerifyTransaction\(verifyHandler VerifyFunc\) \(bool, error\)](<#Transaction.VerifyTransaction>)
- [type TxnReceipt](<#TxnReceipt>)
  - [func NewTransactionReceipt\(t \*Transaction\) \*TxnReceipt](<#NewTransactionReceipt>)
  - [func \(rh \*TxnReceipt\) GetHash\(\) string](<#TxnReceipt.GetHash>)
  - [func \(rh \*TxnReceipt\) GetHashBytes\(\) \[\]byte](<#TxnReceipt.GetHashBytes>)
- [type VerifyFunc](<#VerifyFunc>)


## Constants

<a name="TxnSuccess"></a>

```go
const (
    TxnSuccess         = 1 // Indicates the transaction is successful in updating the state or smart contract
    TxnChargeableError = 2 // Indicates the transaction is successful in updating the state or smart contract
    TxnFail            = 3 // Indicates a transaction has failed to update the state or smart contract
)
```

<a name="NEW_ALLOCATION_REQUEST"></a>

```go
const (
    NEW_ALLOCATION_REQUEST    = "new_allocation_request"
    NEW_FREE_ALLOCATION       = "free_allocation_request"
    UPDATE_ALLOCATION_REQUEST = "update_allocation_request"
    LOCK_TOKEN                = "lock"
    UNLOCK_TOKEN              = "unlock"

    ADD_FREE_ALLOCATION_ASSIGNER = "add_free_storage_assigner"

    // Vesting SC
    VESTING_TRIGGER         = "trigger"
    VESTING_STOP            = "stop"
    VESTING_UNLOCK          = "unlock"
    VESTING_ADD             = "add"
    VESTING_DELETE          = "delete"
    VESTING_UPDATE_SETTINGS = "vestingsc-update-settings"

    // Storage SC
    STORAGESC_FINALIZE_ALLOCATION       = "finalize_allocation"
    STORAGESC_CANCEL_ALLOCATION         = "cancel_allocation"
    STORAGESC_CREATE_ALLOCATION         = "new_allocation_request"
    STORAGESC_CREATE_READ_POOL          = "new_read_pool"
    STORAGESC_READ_POOL_LOCK            = "read_pool_lock"
    STORAGESC_READ_POOL_UNLOCK          = "read_pool_unlock"
    STORAGESC_STAKE_POOL_LOCK           = "stake_pool_lock"
    STORAGESC_STAKE_POOL_UNLOCK         = "stake_pool_unlock"
    STORAGESC_UPDATE_BLOBBER_SETTINGS   = "update_blobber_settings"
    STORAGESC_UPDATE_VALIDATOR_SETTINGS = "update_validator_settings"
    STORAGESC_UPDATE_ALLOCATION         = "update_allocation_request"
    STORAGESC_WRITE_POOL_LOCK           = "write_pool_lock"
    STORAGESC_WRITE_POOL_UNLOCK         = "write_pool_unlock"
    STORAGESC_UPDATE_SETTINGS           = "update_settings"
    ADD_HARDFORK                        = "add_hardfork"
    STORAGESC_COLLECT_REWARD            = "collect_reward"
    STORAGESC_KILL_BLOBBER              = "kill_blobber"
    STORAGESC_KILL_VALIDATOR            = "kill_validator"
    STORAGESC_SHUTDOWN_BLOBBER          = "shutdown_blobber"
    STORAGESC_SHUTDOWN_VALIDATOR        = "shutdown_validator"
    STORAGESC_RESET_BLOBBER_STATS       = "reset_blobber_stats"
    STORAGESC_RESET_ALLOCATION_STATS    = "reset_allocation_stats"

    MINERSC_LOCK             = "addToDelegatePool"
    MINERSC_UNLOCK           = "deleteFromDelegatePool"
    MINERSC_MINER_SETTINGS   = "update_miner_settings"
    MINERSC_SHARDER_SETTINGS = "update_sharder_settings"
    MINERSC_UPDATE_SETTINGS  = "update_settings"
    MINERSC_UPDATE_GLOBALS   = "update_globals"
    MINERSC_MINER_DELETE     = "delete_miner"
    MINERSC_SHARDER_DELETE   = "delete_sharder"
    MINERSC_COLLECT_REWARD   = "collect_reward"
    MINERSC_KILL_MINER       = "kill_miner"
    MINERSC_KILL_SHARDER     = "kill_sharder"

    // Faucet SC
    FAUCETSC_UPDATE_SETTINGS = "update-settings"

    ZCNSC_UPDATE_GLOBAL_CONFIG     = "update-global-config"
    ZCNSC_UPDATE_AUTHORIZER_CONFIG = "update-authorizer-config"
    ZCNSC_ADD_AUTHORIZER           = "add-authorizer"
    ZCNSC_AUTHORIZER_HEALTH_CHECK  = "authorizer-health-check"
    ZCNSC_DELETE_AUTHORIZER        = "delete-authorizer"
    ZCNSC_COLLECT_REWARD           = "collect-rewards"
    ZCNSC_LOCK                     = "add-to-delegate-pool"
    ZCNSC_UNLOCK                   = "delete-from-delegate-pool"

    ESTIMATE_TRANSACTION_COST = `/v1/estimate_txn_fee`
    FEES_TABLE                = `/v1/fees_table`
)
```

<a name="TxnTypeSend"></a>

```go
const (
    TxnTypeSend = 0 // A transaction to send tokens to another account, state is maintained by account

    TxnTypeLockIn = 2 // A transaction to lock tokens, state is maintained on the account and the parent lock in transaction

    // Any txn type that refers to a parent txn should have an odd value
    TxnTypeStorageWrite = 101 // A transaction to write data to the blobber
    TxnTypeStorageRead  = 103 // A transaction to read data from the blobber

    TxnTypeData = 10 // A transaction to just store a piece of data on the block chain

    TxnTypeSmartContract = 1000 // A smart contract transaction type
)
```

<a name="BLOCK_BY_ROUND_URL"></a>

```go
const BLOCK_BY_ROUND_URL = "v1/screst/6dba10422e368813802877a85039d3985d96760ed844092319743fb3a76712d7/block?round="
```

<a name="TXN_SUBMIT_URL"></a>

```go
const TXN_SUBMIT_URL = "v1/transaction/put"
```

<a name="TXN_VERIFY_URL"></a>

```go
const TXN_VERIFY_URL = "v1/transaction/get/confirmation?hash="
```

## Variables

<a name="ErrInvalidRequest"></a>

```go
var (
    // ErrInvalidRequest invalid request
    ErrInvalidRequest = errors.New("[txn] invalid request")

    // ErrNoAvailableSharder no any available sharder
    ErrNoAvailableSharder = errors.New("[txn] there is no any available sharder")

    // ErrNoTxnDetail No transaction detail was found on any of the sharders
    ErrNoTxnDetail = errors.New("[txn] no transaction detail was found on any of the sharders")

    // ErrTooLessConfirmation too less sharder to confirm transaction
    ErrTooLessConfirmation = errors.New("[txn] too less sharders to confirm it")
)
```

<a name="EstimateFee"></a>
## func [EstimateFee](<https://github.com/0chain/gosdk/blob/doc/initial/core/transaction/entity.go#L339>)

```go
func EstimateFee(txn *Transaction, miners []string, reqPercent ...float32) (uint64, error)
```

EstimateFee estimates transaction fee

<a name="GetFeesTable"></a>
## func [GetFeesTable](<https://github.com/0chain/gosdk/blob/doc/initial/core/transaction/entity.go#L396>)

```go
func GetFeesTable(miners []string, reqPercent ...float32) (map[string]map[string]int64, error)
```

GetFeesTable get fee tables

<a name="SendTransactionSync"></a>
## func [SendTransactionSync](<https://github.com/0chain/gosdk/blob/doc/initial/core/transaction/entity.go#L264>)

```go
func SendTransactionSync(txn *Transaction, miners []string) error
```



<a name="Block"></a>
## type [Block](<https://github.com/0chain/gosdk/blob/doc/initial/core/transaction/entity.go#L89-L107>)



```go
type Block struct {
    Hash                  string `json:"hash" gorm:"uniqueIndex:idx_bhash"`
    Version               string `json:"version"`
    CreationDate          int64  `json:"creation_date" gorm:"index:idx_bcreation_date"`
    Round                 int64  `json:"round" gorm:"index:idx_bround"`
    MinerID               string `json:"miner_id"`
    RoundRandomSeed       int64  `json:"round_random_seed"`
    MerkleTreeRoot        string `json:"merkle_tree_root"`
    StateHash             string `json:"state_hash"`
    ReceiptMerkleTreeRoot string `json:"receipt_merkle_tree_root"`
    NumTxns               int    `json:"num_txns"`
    MagicBlockHash        string `json:"magic_block_hash"`
    PrevHash              string `json:"prev_hash"`
    Signature             string `json:"signature"`
    ChainId               string `json:"chain_id"`
    StateChangesCount     int    `json:"state_changes_count"`
    RunningTxnCount       string `json:"running_txn_count"`
    RoundTimeoutCount     int    `json:"round_timeout_count"`
}
```

<a name="OptimisticVerifier"></a>
## type [OptimisticVerifier](<https://github.com/0chain/gosdk/blob/doc/initial/core/transaction/utils.go#L22-L26>)



```go
type OptimisticVerifier struct {
    // contains filtered or unexported fields
}
```

<a name="NewOptimisticVerifier"></a>
### func [NewOptimisticVerifier](<https://github.com/0chain/gosdk/blob/doc/initial/core/transaction/utils.go#L28>)

```go
func NewOptimisticVerifier(sharders []string) *OptimisticVerifier
```



<a name="OptimisticVerifier.VerifyTransactionOptimistic"></a>
### func \(\*OptimisticVerifier\) [VerifyTransactionOptimistic](<https://github.com/0chain/gosdk/blob/doc/initial/core/transaction/utils.go#L49>)

```go
func (v *OptimisticVerifier) VerifyTransactionOptimistic(txnHash string) (*Transaction, error)
```



<a name="Ratio"></a>
## type [Ratio](<https://github.com/0chain/gosdk/blob/doc/initial/core/transaction/entity.go#L70-L73>)



```go
type Ratio struct {
    ZCN  int64 `json:"zcn"`
    Size int64 `json:"size"`
}
```

<a name="RoundBlockHeader"></a>
## type [RoundBlockHeader](<https://github.com/0chain/gosdk/blob/doc/initial/core/transaction/entity.go#L74-L87>)



```go
type RoundBlockHeader struct {
    Version               string `json:"version"`
    CreationDate          int64  `json:"creation_date"`
    Hash                  string `json:"block_hash"`
    PreviousBlockHash     string `json:"previous_block_hash"`
    MinerID               string `json:"miner_id"`
    Round                 int64  `json:"round"`
    RoundRandomSeed       int64  `json:"round_random_seed"`
    MerkleTreeRoot        string `json:"merkle_tree_root"`
    StateChangesCount     int    `json:"state_changes_count"`
    StateHash             string `json:"state_hash"`
    ReceiptMerkleTreeRoot string `json:"receipt_merkle_tree_root"`
    NumberOfTxns          int64  `json:"num_txns"`
}
```

<a name="SignFunc"></a>
## type [SignFunc](<https://github.com/0chain/gosdk/blob/doc/initial/core/transaction/entity.go#L180>)



```go
type SignFunc = func(msg string) (string, error)
```

<a name="SignWithWallet"></a>
## type [SignWithWallet](<https://github.com/0chain/gosdk/blob/doc/initial/core/transaction/entity.go#L182>)



```go
type SignWithWallet = func(msg string, wallet interface{}) (string, error)
```

<a name="SmartContractTxnData"></a>
## type [SmartContractTxnData](<https://github.com/0chain/gosdk/blob/doc/initial/core/transaction/entity.go#L53-L56>)



```go
type SmartContractTxnData struct {
    Name      string      `json:"name"`
    InputArgs interface{} `json:"input"`
}
```

<a name="StorageAllocation"></a>
## type [StorageAllocation](<https://github.com/0chain/gosdk/blob/doc/initial/core/transaction/entity.go#L58-L69>)



```go
type StorageAllocation struct {
    ID             string  `json:"id"`
    DataShards     int     `json:"data_shards"`
    ParityShards   int     `json:"parity_shards"`
    Size           int64   `json:"size"`
    Expiration     int64   `json:"expiration_date"`
    Owner          string  `json:"owner_id"`
    OwnerPublicKey string  `json:"owner_public_key"`
    ReadRatio      *Ratio  `json:"read_ratio"`
    WriteRatio     *Ratio  `json:"write_ratio"`
    MinLockDemand  float64 `json:"min_lock_demand"`
}
```

<a name="Transaction"></a>
## type [Transaction](<https://github.com/0chain/gosdk/blob/doc/initial/core/transaction/entity.go#L29-L46>)

Transaction entity that encapsulates the transaction related data and meta data

```go
type Transaction struct {
    Hash              string `json:"hash,omitempty"`
    Version           string `json:"version,omitempty"`
    ClientID          string `json:"client_id,omitempty"`
    PublicKey         string `json:"public_key,omitempty"`
    ToClientID        string `json:"to_client_id,omitempty"`
    ChainID           string `json:"chain_id,omitempty"`
    TransactionData   string `json:"transaction_data"`
    Value             uint64 `json:"transaction_value"`
    Signature         string `json:"signature,omitempty"`
    CreationDate      int64  `json:"creation_date,omitempty"`
    TransactionType   int    `json:"transaction_type"`
    TransactionOutput string `json:"transaction_output,omitempty"`
    TransactionFee    uint64 `json:"transaction_fee"`
    TransactionNonce  int64  `json:"transaction_nonce"`
    OutputHash        string `json:"txn_output_hash"`
    Status            int    `json:"transaction_status"`
}
```

<a name="NewTransactionEntity"></a>
### func [NewTransactionEntity](<https://github.com/0chain/gosdk/blob/doc/initial/core/transaction/entity.go#L194>)

```go
func NewTransactionEntity(clientID string, chainID string, publicKey string, nonce int64) *Transaction
```



<a name="VerifyTransaction"></a>
### func [VerifyTransaction](<https://github.com/0chain/gosdk/blob/doc/initial/core/transaction/utils.go#L284>)

```go
func VerifyTransaction(txnHash string, sharders []string) (*Transaction, error)
```

VerifyTransaction query transaction status from sharders, and verify it by mininal confirmation

<a name="VerifyTransactionTrusted"></a>
### func [VerifyTransactionTrusted](<https://github.com/0chain/gosdk/blob/doc/initial/core/transaction/utils.go#L299>)

```go
func VerifyTransactionTrusted(txnHash string, sharders []string) (*Transaction, error)
```

VerifyTransaction query transaction status from sharders, and verify it by mininal confirmation

<a name="Transaction.ComputeHashAndSign"></a>
### func \(\*Transaction\) [ComputeHashAndSign](<https://github.com/0chain/gosdk/blob/doc/initial/core/transaction/entity.go#L215>)

```go
func (t *Transaction) ComputeHashAndSign(signHandler SignFunc) error
```



<a name="Transaction.ComputeHashAndSignWithWallet"></a>
### func \(\*Transaction\) [ComputeHashAndSignWithWallet](<https://github.com/0chain/gosdk/blob/doc/initial/core/transaction/entity.go#L205>)

```go
func (t *Transaction) ComputeHashAndSignWithWallet(signHandler SignWithWallet, signingWallet interface{}) error
```



<a name="Transaction.ComputeHashData"></a>
### func \(\*Transaction\) [ComputeHashData](<https://github.com/0chain/gosdk/blob/doc/initial/core/transaction/entity.go#L225>)

```go
func (t *Transaction) ComputeHashData()
```



<a name="Transaction.DebugJSON"></a>
### func \(\*Transaction\) [DebugJSON](<https://github.com/0chain/gosdk/blob/doc/initial/core/transaction/entity.go#L231>)

```go
func (t *Transaction) DebugJSON() []byte
```



<a name="Transaction.VerifyTransaction"></a>
### func \(\*Transaction\) [VerifyTransaction](<https://github.com/0chain/gosdk/blob/doc/initial/core/transaction/entity.go#L254>)

```go
func (t *Transaction) VerifyTransaction(verifyHandler VerifyFunc) (bool, error)
```



<a name="TxnReceipt"></a>
## type [TxnReceipt](<https://github.com/0chain/gosdk/blob/doc/initial/core/transaction/entity.go#L49-L51>)

TxnReceipt \- a transaction receipt is a processed transaction that contains the output

```go
type TxnReceipt struct {
    Transaction *Transaction
}
```

<a name="NewTransactionReceipt"></a>
### func [NewTransactionReceipt](<https://github.com/0chain/gosdk/blob/doc/initial/core/transaction/entity.go#L250>)

```go
func NewTransactionReceipt(t *Transaction) *TxnReceipt
```

NewTransactionReceipt \- create a new transaction receipt

<a name="TxnReceipt.GetHash"></a>
### func \(\*TxnReceipt\) [GetHash](<https://github.com/0chain/gosdk/blob/doc/initial/core/transaction/entity.go#L240>)

```go
func (rh *TxnReceipt) GetHash() string
```

GetHash \- implement interface

<a name="TxnReceipt.GetHashBytes"></a>
### func \(\*TxnReceipt\) [GetHashBytes](<https://github.com/0chain/gosdk/blob/doc/initial/core/transaction/entity.go#L245>)

```go
func (rh *TxnReceipt) GetHashBytes() []byte
```

GetHashBytes \- implement Hashable interface

<a name="VerifyFunc"></a>
## type [VerifyFunc](<https://github.com/0chain/gosdk/blob/doc/initial/core/transaction/entity.go#L181>)



```go
type VerifyFunc = func(publicKey, signature, msgHash string) (bool, error)
```

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
